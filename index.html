<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=0.4">
    <title>bleu/cisne_soluble</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">

</head>
<body>
      
    
<img id="gifFrame" src="frames/frame0.png"> 
     
        
    
    
    <!-- Entire webpage -->
    <div id="main-wrapper">
         
      <div class="dungeon">
             <!--<img class="vision" src="intro.gif">-->
          <div class="story" style="top: 10px">
          <p>This vision is my stalker. I can't shake it off- even if I wanted to. The ambition to transform is my sole companion. Always ahead of me. I know how to fulfill my desire. </p>
              
              
               
       </div>
           <button id="enter-btn">Enter</button>
            <img id="enter-img" src="intro.gif">
        </div>
    
    
        
      <div class="dungeon"> 
          <div id="music">
           <audio controls>
                <source src="downwards.mp3" type="audio/mp3">
            </audio>
              <p>dungeon_ambiance.mp3</p>
          </div>
          <button id="leaveButton">Leave dungeon</button>
          <img id="hiddenGif" src="descend_animation.png">
       
          
          <img src="background.png"> 
        
      </div>
        
        
      <div class="dungeon"> 
          <p class="story">I am changing... my desire to connect manifests itself physically</p>
          <img src="animationRoomBorder.gif"> 
        </div>  
        
       
      <div class="dungeon"> <img src="scroll.png"> 
        <details>
        <summary>(?)</summary>  
          <form>
                <label for="fname">Type the characters seen in the image below</label>
                <br> <br>
                <img src="cede.png">
                <br>
                <label for="fname"></label><br>
                <input type="text" id="fname" name="fname" value="">
                <br> <br>
                <input type="button" value="Confirm">
            </form>
        </details>
      </div>
        
        
             <div class="dungeon">
            <div id="puzzle">
            <img src="Puzzle.png">
            <form id="text-in-frame">  
                <input type="checkbox" id="robot" name="robot1" value="robotBool">
                <label for="vehicle1"> I'm not a robot</label><br>
                <input type="button" value="Submit">
            </form>
        </div>
            <img src="hallOfWorship2.png">
                     <details>
                        <summary>(?)</summary>  
                    <form>
                    <label for="fname">Type the characters seen in the image below</label>
                    <br> <br>
                    <img src="bypass.png">
                    <br>
                    <label for="fname"></label><br>
                    <input type="text" id="fname" name="fname" value="">
                    <br> <br>
                    <input type="button" value="Confirm">
                </form>
        </details>
                 <img src="seperator.png">
      </div>
        <div class="dungeon"> 
            <p class="story" style="top: 440px;">the warmth of the screen could be enough to make me hatch…</p>
            <img src="egg.gif">
        </div>
        <div class="dungeon"> 
            <p class="story" style="top: 160px;">...fully wired, ready to grow wings...</p>
            <img class="centered" src="Digital%20angel.png">
            <button id="morph-btn">pupate</button>
            <img id="room-img" src="egg.png">
              <details>
                <summary>(?)</summary>  
                <form>
                    <label for="fname">Type the characters seen in the image below</label>
                    <br> <br>
                    <img src="godspeed.png">
                    <br>
                    <label for="fname"></label><br>
                    <input type="text" id="fname" name="fname" value="">
                    <br> <br>
                    <input type="button" value="Confirm">
                </form>
             </details>
         </div>

        
      <div class="dungeon">
            <img src="bg_egg.png">
            <details>
                <summary>(?)</summary>  
                <form>
                    <label for="fname">Type the characters seen in the image below</label>
                    <br> <br>
                    <img src="crawl.png">
                    <br>
                    <label for="fname"></label><br>
                    <input type="text" id="fname" name="fname" value="">
                    <br> <br>
                    <input type="button" value="Confirm">
                </form>
        </details>
      </div>
        
        
        <div class="dungeon"> 
            <button id="swap-btn">disconnect them.</button>
            <img id="dungeon-img" src="finalCave.png">
            <details>
                <summary>(?)</summary>  
                <form>
                    <label for="fname">Type the characters seen in the image below</label>
                    <br> <br>
                    <img src="detach.png">
                    <br>
                    <label for="fname"></label><br>
                    <input type="text" id="fname" name="fname" value="">
                    <br> <br>
                    <input type="button" value="Confirm">
                </form>
        </details>
      </div> 
     
      <div class="dungeon"> 
        <img src="room4border.png">
          <details>
                <summary>(?)</summary>  
          <form>
                <label for="fname">Type the characters seen in the image below</label>
                <br> <br>
                <img src="repent.png">
                <br>
                <label for="fname"></label><br>
                <input type="text" id="fname" name="fname" value="">
                <br> <br>
                <input type="button" value="Confirm">
            </form> 
          </details>
      </div> 
       
  
        
          
        
        

        <div class="dungeon" id="check">
            
          <div id="music">
           <audio controls>
                <source src="girlsong.mp3" type="audio/mp3">
            </audio>
              <p>her_theme.mp3</p>
          </div>
            
            <img src="skinnyAngel.gif">
            
             <form id="checkpoint">
              <p>Please complete <i style="color:blue;">verification (?)</i> to proceed (0/7)</p>
              <input type="checkbox" id="robot" name="robot1" value="robotBool">
              <label for="vehicle1"> I'm not a robot</label>
              <input id="verification" type="button" value="Confirm">
                </form>
            
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p class="story" style="top:1050px;">At this point I feel like almost <i>100% pure angel</i></p>
            <img src="turning.gif">
            <img id="cherub" src="fadeIn_still.png" data-animated-src="fadeIn.gif">
            
        </div>
        
    </div>

    
    <script>
  const totalFrames = 16;
  const scrollLoopHeight = window.innerHeight; // Loop every 100% vh
  const img = document.getElementById('gifFrame');

  // Preload frames for smooth playback
  const frames = [];
  for (let i = 0; i < totalFrames; i++) {
    frames[i] = new Image();
    frames[i].src = `frames/frame${i}.png`;
  }

  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    const progress = (scrollY % scrollLoopHeight) / scrollLoopHeight;
    const frameIndex = Math.floor(progress * totalFrames);
    img.src = frames[frameIndex].src;
  });
    
      const imgCave = document.getElementById('dungeon-img');
  document.getElementById('swap-btn').addEventListener('click', () => {
    imgCave.src = 'finalGif.gif';
      new Audio('untether.mp3').play();
  });
    
     const imgRoom = document.getElementById('room-img');
  document.getElementById('morph-btn').addEventListener('click', () => {
    imgRoom.src = 'hatch.gif';
      new Audio('cede.mp3').play();
  });
        
             const enterGif = document.getElementById('enter-img');
  document.getElementById('enter-btn').addEventListener('click', () => {
    enterGif.src = 'enter.gif';
      new Audio('enter.mp3').play();
  });
    
    
 const leaveButton = document.getElementById('leaveButton');
const gif = document.getElementById('hiddenGif');

leaveButton.addEventListener('click', () => {
  gif.classList.add('start-trapdoor-animation');
    new Audio('door.mp3').play();
});  
    
      const cherubGif = document.getElementById('cherub');
  document.getElementById('verification').addEventListener('click', () => {
    cherubGif.src = 'fadeIn.gif';
      new Audio('cherub.mp3').play();
  });
        
        //SOUND UPON OPENING CAPTCHAS
        const allDetails = document.querySelectorAll('details');
        const openSound = new Audio('Select.mp3');
        allDetails.forEach(detailsElement => {
            detailsElement.addEventListener('toggle', event => {
                if (detailsElement.open) {
                    openSound.play();
                }
            });
        });
 
</script>
    
</body>
</html>


