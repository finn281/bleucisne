<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=0.4">
    <title>dungeonscrolling...</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">

</head>
<body>
      
    
<img id="gifFrame" src="frames/frame0.png"> 

    <div id="main-wrapper">
         
      <div class="dungeon">
          <div class="story" style="top: 10px">
          <p>This vision is my stalker. I can't shake it off- even if I wanted to. The ambition to transform is my sole companion. Always ahead of me. I know how to fulfill my desire. </p>
       </div>
           <button id="enter-btn">Enter</button>
            <img id="enter-img" src="intro.gif">
        </div>
    
    
        
      <div class="dungeon"> 
          <div id="music">
           <audio controls>
                <source src="downwards.mp3" type="audio/mp3">
            </audio>
              <p>dungeon_ambiance.mp3</p>
          </div>
          <button id="leaveButton">Leave dungeon</button>
          <img id="hiddenGif" src="descend_animation.png">
       
          
          <img src="background.png"> 
        
      </div>
        
        
      <div class="dungeon"> 
          <p class="story">I am changing... my desire to connect manifests itself physically</p>
          <img src="animationRoomBorder.gif"> 
        </div>  
        
       
      <div class="dungeon">
  <img src="scroll.gif">
  <details>
    <summary>(?)</summary>
    <form id="captcha1_form"> <label for="captcha1_input">Type the characters seen in the image below</label>
      <br><br>
      <img id="captcha1_image" src="cede.png"> <br>
      <span id="captcha1_feedback" class="feedback-message"></span>
      <br>
      <input type="text" id="captcha1_input" name="fname"> <br><br>
      <button type="button" id="captcha1_button">Confirm</button>
    </form>
  </details>
</div>
        
        
             <div class="dungeon">
            <div id="puzzle">
            <img src="Puzzle.png">
            <form id="text-in-frame">  
                <input type="checkbox" id="robot" name="robot1" value="robotBool">
                <label for="vehicle1"> I'm not a robot</label><br>
                <input type="button" value="Submit">
            </form>
        </div>
                 <img src="room4border.png">
                   
        <details>
            <summary>(?)</summary>
            <form id="captcha2_form"> <label for="captcha2_input">Type the characters seen in the image below</label>
              <br><br>
              <img id="captcha2_image" src="bypass.png"> <br>
              <span id="captcha2_feedback" class="feedback-message"></span>
              <br>
              <input type="text" id="captcha2_input" name="fname"> <br><br>
              <button type="button" id="captcha2_button">Confirm</button>
            </form>
        </details>
                 
                 <img src="seperator.png">
      </div>
        <div class="dungeon"> 
            <p class="story" style="top: 440px;">the warmth of the screen could be enough to make me hatch…</p>
            <img src="egg.gif">
        </div>
        <div class="dungeon"> 
            <p class="story" style="top: 160px;">...fully wired, ready to grow wings...</p>
            <img class="centered" src="Digital%20angel.png">
            <button id="morph-btn">pupate</button>
            <img id="room-img" src="room.png">
            <details>
                <summary>(?)</summary>
                <form id="captcha3_form"> <label for="captcha3_input">Type the characters seen in the image below</label>
                  <br><br>
                  <img id="captcha3_image" src="godspeed.png"> <br>
                  <span id="captcha3_feedback" class="feedback-message"></span>
                  <br>
                  <input type="text" id="captcha3_input" name="fname"> <br><br>
                  <button type="button" id="captcha3_button">Confirm</button>
                </form>
          </details>
         </div>

        
      <div class="dungeon">
            <img src="bg_egg.png">
            <details>
                <summary>(?)</summary>
                <form id="captcha4_form"> <label for="captcha4_input">Type the characters seen in the image below</label>
                  <br><br>
                  <img id="captcha4_image" src="crawl.png"> <br>
                  <span id="captcha4_feedback" class="feedback-message"></span>
                  <br>
                  <input type="text" id="captcha4_input" name="fname"> <br><br>
                  <button type="button" id="captcha4_button">Confirm</button>
                </form>
          </details>
      </div>
        
        
        <div class="dungeon"> 
            <button id="swap-btn">disconnect them.</button>
            <img id="dungeon-img" src="finalCave.png">
            <details>
                <summary>(?)</summary>
                <form id="captcha5_form"> <label for="captcha5_input">Type the characters seen in the image below</label>
                  <br><br>
                  <img id="captcha5_image" src="detach.png"> <br>
                  <span id="captcha5_feedback" class="feedback-message"></span>
                  <br>
                  <input type="text" id="captcha5_input" name="fname"> <br><br>
                  <button type="button" id="captcha5_button">Confirm</button>
                </form>
          </details>
      </div> 
     

        <div class="dungeon" id="check">
            
          <div id="music">
           <audio controls>
                <source src="girlsong.mp3" type="audio/mp3">
            </audio>
              <p>her_theme.mp3</p>
          </div>
            
            <img src="skinnyAngel.gif">
            
             <form id="checkpoint">
                  <p>Please complete <i style="color:blue;">verification (?)</i> to proceed <span id="captcha-counter">(0/5)</span></p>

                  <input type="checkbox" id="robot" name="robot1" value="robotBool">
                  <label for="vehicle1"> I'm not a robot</label>

                  <input id="verification" type="button" value="Confirm" disabled>
                </form>
            
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p class="story" style="top:1050px;">At this point I feel like almost <i>100% pure data</i></p>
            <img src="turning.gif">
            <img id="cherub" src="fadeIn_still.png" data-animated-src="fadeIn.gif">
            
        </div>
        
    </div>

    
    <script>
  const totalFrames = 16;
  const scrollLoopHeight = window.innerHeight; // Loop every 100% vh
  const img = document.getElementById('gifFrame');

  // Preload frames for smooth playback
  const frames = [];
  for (let i = 0; i < totalFrames; i++) {
    frames[i] = new Image();
    frames[i].src = `frames/frame${i}.png`;
  }

  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    const progress = (scrollY % scrollLoopHeight) / scrollLoopHeight;
    const frameIndex = Math.floor(progress * totalFrames);
    img.src = frames[frameIndex].src;
  });
    
      const imgCave = document.getElementById('dungeon-img');
  document.getElementById('swap-btn').addEventListener('click', () => {
    imgCave.src = 'finalGif.gif';
      new Audio('untether.mp3').play();
  });
    
     const imgRoom = document.getElementById('room-img');
  document.getElementById('morph-btn').addEventListener('click', () => {
    imgRoom.src = 'morph.gif';
      new Audio('cede.mp3').play();
  });
        
             const enterGif = document.getElementById('enter-img');
  document.getElementById('enter-btn').addEventListener('click', () => {
    enterGif.src = 'enter.gif';
      new Audio('enter.mp3').play();
  });
    
    
 const leaveButton = document.getElementById('leaveButton');
const gif = document.getElementById('hiddenGif');

leaveButton.addEventListener('click', () => {
  gif.classList.add('start-trapdoor-animation');
    new Audio('door.mp3').play();
});  
    
      const cherubGif = document.getElementById('cherub');
  document.getElementById('verification').addEventListener('click', () => {
    cherubGif.src = 'fadeIn.gif';
      new Audio('cherub.mp3').play();
  });
        
        //SOUND UPON OPENING CAPTCHAS
        const allDetails = document.querySelectorAll('details');
        const openSound = new Audio('Select.mp3');
        allDetails.forEach(detailsElement => {
            detailsElement.addEventListener('toggle', event => {
                if (detailsElement.open) {
                    openSound.play();
                }
            });
        });
        
        
    // --- GLOBAL VERIFICATION TRACKER ---

// 1. A counter to track solved captchas
let solvedCaptchasCount = 0;

// 2. Get references to the UI elements we need to update
const counterDisplay = document.getElementById('captcha-counter');
const finalConfirmButton = document.getElementById('verification');

function updateVerificationStatus() {
  solvedCaptchasCount++;
  counterDisplay.textContent = `(${solvedCaptchasCount}/5)`;

  if (solvedCaptchasCount === 5) {
    finalConfirmButton.disabled = false;
    finalConfirmButton.style.cursor = 'pointer';
    finalConfirmButton.style.backgroundColor = '#4CAF50'; // A green color
  }
}


// --- INDIVIDUAL CAPTCHA LOGIC (TEMPLATE) ---
// You will need to REPEAT this block of code for EACH of your 7 captchas.
// Just change the IDs and the correct answer for each one.

// --- CAPTCHA 1 LOGIC ---
const captcha1_button = document.getElementById('captcha1_button');
const captcha1_input = document.getElementById('captcha1_input');
const captcha1_answer = 'cede'; 

captcha1_button.addEventListener('click', () => {

  if (captcha1_input.value.toLowerCase() === captcha1_answer && !captcha1_button.disabled) {
    
    // Disable this captcha's input and button to prevent reuse
    captcha1_input.disabled = true;
    captcha1_button.disabled = true;
    
    // Run our main update function
    updateVerificationStatus();
      captcha1_feedback.textContent = 'Correct!';
  } else {
    // Optional: Handle incorrect answers
    captcha1_feedback.textContent = 'Incorrect, please try again.';
    captcha1_input.value = ''; // Clear the input
  }
});

// --- CAPTCHA 2 LOGIC ---
// const captcha2_button = document.getElementById('captcha2_button');
// ...and so on for all 7 captchas.
        const captcha2_button = document.getElementById('captcha2_button');
const captcha2_input = document.getElementById('captcha2_input');
const captcha2_answer = 'bypass'; // The correct answer for the first captcha

captcha2_button.addEventListener('click', () => {
  // Check if the answer is correct AND if the button hasn't already been used
  if (captcha2_input.value.toLowerCase() === captcha2_answer && !captcha2_button.disabled) {
    
    // Disable this captcha's input and button to prevent reuse
    captcha2_input.disabled = true;
    captcha2_button.disabled = true;
    
    // Run our main update function
      captcha2_feedback.textContent = 'Correct!';
    updateVerificationStatus();
  } else {
    // Optional: Handle incorrect answers
    captcha2_feedback.textContent = 'Incorrect, please try again.';
    captcha2_input.value = ''; // Clear the input
  }
});
        
        // --- CAPTCHA 3 LOGIC ---
const captcha3_button = document.getElementById('captcha3_button');
const captcha3_input = document.getElementById('captcha3_input');
const captcha3_feedback = document.getElementById('captcha3_feedback');
const captcha3_answer = 'godspeed'; // <-- CHANGE THIS ANSWER

captcha3_button.addEventListener('click', () => {
  if (captcha3_input.value.toLowerCase() === captcha3_answer && !captcha3_button.disabled) {
    captcha3_input.disabled = true;
    captcha3_button.disabled = true;
    captcha3_feedback.textContent = 'Correct!';
    captcha3_feedback.style.color = 'green';
    updateVerificationStatus();
  } else if (!captcha3_button.disabled) {
    captcha3_feedback.textContent = 'Incorrect, please try again.';
    captcha3_feedback.style.color = 'red';
    captcha3_input.value = '';
  }
});

// --- CAPTCHA 4 LOGIC ---
const captcha4_button = document.getElementById('captcha4_button');
const captcha4_input = document.getElementById('captcha4_input');
const captcha4_feedback = document.getElementById('captcha4_feedback');
const captcha4_answer = 'crawl'; // <-- CHANGE THIS ANSWER

captcha4_button.addEventListener('click', () => {
  if (captcha4_input.value.toLowerCase() === captcha4_answer && !captcha4_button.disabled) {
    captcha4_input.disabled = true;
    captcha4_button.disabled = true;
    captcha4_feedback.textContent = 'Correct!';
    captcha4_feedback.style.color = 'green';
    updateVerificationStatus();
  } else if (!captcha4_button.disabled) {
    captcha4_feedback.textContent = 'Incorrect, please try again.';
    captcha4_feedback.style.color = 'red';
    captcha4_input.value = '';
  }
});

// --- CAPTCHA 5 LOGIC ---
const captcha5_button = document.getElementById('captcha5_button');
const captcha5_input = document.getElementById('captcha5_input');
const captcha5_feedback = document.getElementById('captcha5_feedback');
const captcha5_answer = 'detach'; // <-- CHANGE THIS ANSWER

captcha5_button.addEventListener('click', () => {
  if (captcha5_input.value.toLowerCase() === captcha5_answer && !captcha5_button.disabled) {
    captcha5_input.disabled = true;
    captcha5_button.disabled = true;
    captcha5_feedback.textContent = 'Correct!';
    captcha5_feedback.style.color = 'green';
    updateVerificationStatus();
  } else if (!captcha5_button.disabled) {
    captcha5_feedback.textContent = 'Incorrect, please try again.';
    captcha5_feedback.style.color = 'red';
    captcha5_input.value = '';
  }
});



 
</script>
    
</body>
</html>


